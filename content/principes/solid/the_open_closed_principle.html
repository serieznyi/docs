
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>The Open Closed Principle - Принцип открытости/закрытости &#8212; документация knowledge-base </title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/translations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
    <script src="../../../_static/js/index.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../../../genindex.html" />
    <link rel="search" title="Поиск" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-open-closed-principle">
<span id="solid-open-close-principle"></span><h1>The Open Closed Principle - Принцип открытости/закрытости<a class="headerlink" href="#the-open-closed-principle" title="Ссылка на этот заголовок">¶</a></h1>
<p>Программные сущности должны быть закрыты для изменения и открыты для расширения.</p>
<p>1) <strong>Открыты для расширения.</strong>
Это означает, что поведение модуля может быть расширено.
То есть мы можем добавить модулю новое поведение в соответствии с изменившимися требованиями
к приложению или для удовлетворения нужд новых приложений.</p>
<p>2) <strong>Закрыты для изменений.</strong>
Исходный код такого модуля неприкасаем.
Никто не вправе вносить в него изменения.</p>
<section id="id1">
<h2>Способы достижения целей принципа<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h2>
<ul class="simple">
<li><p>Используйте абстракцию</p></li>
</ul>
<p>Механизмом расширения выступают производные классы.
В клиентском коде используются только абстракции.</p>
<p>Следующий пример не правилен т.к. при добавлении новой реализации нам придется менять метод отвечающий за отрисовку.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Rectangle</span> <span class="p">{</span>
<span class="linenos"> 2</span>     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">drawRectangle</span><span class="p">()</span> <span class="p">{}</span>
<span class="linenos"> 3</span> <span class="p">}</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Circle</span> <span class="p">{</span>
<span class="linenos"> 6</span>     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">drawCircle</span><span class="p">()</span> <span class="p">{}</span>
<span class="linenos"> 7</span> <span class="p">}</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="p">{</span>
<span class="linenos">10</span>   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">){</span>
<span class="linenos">11</span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">shapes</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="linenos">12</span>        <span class="k">new</span> <span class="n">Rectangle</span><span class="p">(),</span>
<span class="linenos">13</span>        <span class="k">new</span> <span class="n">Circle</span><span class="p">()</span>
<span class="linenos">14</span>    <span class="p">);</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="n">drawAll</span><span class="p">(</span><span class="n">shapes</span><span class="p">);</span>
<span class="linenos">17</span>   <span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span>   <span class="kd">private</span> <span class="kt">void</span> <span class="nf">drawAll</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">shapes</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">20</span>       <span class="k">for</span> <span class="p">(</span><span class="n">Object</span> <span class="n">object</span> <span class="p">:</span> <span class="n">shapes</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">21</span>            <span class="k">if</span> <span class="p">(</span><span class="n">object</span> <span class="k">instanceof</span> <span class="n">Rectangle</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">22</span>                <span class="p">((</span><span class="n">Rectangle</span><span class="p">)</span> <span class="n">object</span><span class="p">).</span><span class="na">drawRectangle</span><span class="p">();</span>
<span class="linenos">23</span>            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">object</span> <span class="k">instanceof</span> <span class="n">Circle</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">24</span>                <span class="p">((</span><span class="n">Circle</span><span class="p">)</span> <span class="n">object</span><span class="p">).</span><span class="na">drawCircle</span><span class="p">();</span>
<span class="linenos">25</span>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos">26</span>                <span class="k">throw</span> <span class="k">new</span> <span class="n">RutimeException</span><span class="p">(</span><span class="s">&quot;No allowed shape&quot;</span><span class="p">);</span>
<span class="linenos">27</span>            <span class="p">}</span>
<span class="linenos">28</span>       <span class="p">}</span>
<span class="linenos">29</span>   <span class="p">}</span>
<span class="linenos">30</span> <span class="p">}</span>
</pre></div>
</div>
<p>Следующий пример правильный т.к. каждая новая реализация практически не требует изменения клиентского кода.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Shape</span> <span class="p">{}</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="p">{</span>
<span class="linenos"> 4</span>     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{}</span>
<span class="linenos"> 5</span> <span class="p">}</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="p">{</span>
<span class="linenos"> 8</span>     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{}</span>
<span class="linenos"> 9</span> <span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="p">{</span>
<span class="linenos">12</span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">){</span>
<span class="linenos">13</span>     <span class="n">List</span><span class="o">&lt;</span><span class="n">Shape</span><span class="o">&gt;</span> <span class="n">shapes</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="linenos">14</span>         <span class="k">new</span> <span class="n">Rectangle</span><span class="p">(),</span>
<span class="linenos">15</span>         <span class="k">new</span> <span class="n">Circle</span><span class="p">()</span>
<span class="linenos">16</span>     <span class="p">);</span>
<span class="linenos">17</span>
<span class="linenos">18</span>     <span class="n">drawAll</span><span class="p">(</span><span class="n">shapes</span><span class="p">);</span>
<span class="linenos">19</span>    <span class="p">}</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">drawAll</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Shape</span><span class="o">&gt;</span> <span class="n">shapes</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">22</span>        <span class="k">for</span> <span class="p">(</span><span class="n">Shape</span> <span class="n">s</span> <span class="p">:</span> <span class="n">shapes</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">23</span>             <span class="n">s</span><span class="p">.</span><span class="na">draw</span><span class="p">();</span>
<span class="linenos">24</span>        <span class="p">}</span>
<span class="linenos">25</span>    <span class="p">}</span>
<span class="linenos">26</span> <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Делайте все переменные-члены приватными</p></li>
</ul>
<blockquote>
<div><p>Тем самым мы гарантируем, что данные не будут изменены извне</p>
</div></blockquote>
<ul class="simple">
<li><p>Не стоит использовать глобальные переменные т.к. их так же легко изменить «снаружи» логики</p></li>
<li><p>Избегайте <a class="reference external" href="https://en.wikipedia.org/wiki/Run-time_type_information">Run Time Type Identification</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">knowledge-base</a></h1>








<h3>Навигация</h3>
<p class="caption"><span class="caption-text">Оглавление:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html">DevOps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/index.html">Документация</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../git/index.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../learn/index.html">Материалы для изучения</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../php/index.html">PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Принципы</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Maxim Mironyuk.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/content/principes/solid/the_open_closed_principle.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>